---
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { SITE_TITLE, SITE_DESCRIPTION } from '../consts';
import FormattedDate from '../components/FormattedDate.astro';

const {posts} = Astro.props;
---

<!doctype html>
<html lang="en">
<head>
    <BaseHead title={`Blog â€” ${SITE_TITLE}`} description={SITE_DESCRIPTION} />
    <style>
        main {
            width: 960px;
            padding: 0.5em 1.5em 2em;
        }
        ul {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            list-style-type: none;
            margin: 0;
            padding: 0;
        }
        ul li * {
            text-decoration: none;
            transition: 0.2s ease;
        }
        .title {
            margin: 0 .25em 0 0;
            color: rgb(var(--black));
            line-height: 1;
        }
        .title, .description, .date {
            display: inline;
            font-size: 1em;
            margin-right: .25em;
        }
        .description {
            color: rgb(var(--black));
        }
        .date {
            color: rgb(var(--gray));
            white-space: nowrap;
        }
        ul li a:hover .title,
        ul li a:hover .description,
        ul li a:hover .date {
            color: rgb(var(--accent));
        }
        @media (max-width: 720px) {
            ul {
                gap: 0.5em;
            }
        }
    </style>
</head>
<body>
<Header />
<main>
    <p>I write in <a href="/blog">English</a> and <a href="/blog/ru">Russian</a>.</p>
    <section>
        <ul>
            {
                posts.map((post) => (
                        <li>
                            <a href={`/blog/${post.slug}/`}>
                                <h4 class="title">{post.data.emoji || ''} {post.data.title}</h4>
                                {
                                    post.data.description &&
                                        <p class="description">{post.data.description}</p>
                                }
                                <p class="date">
                                    <FormattedDate date={post.data.pubDate} />
                                </p>
                            </a>
                        </li>
                ))
                }
        </ul>
    </section>
</main>
<Footer />
</body>
</html>
